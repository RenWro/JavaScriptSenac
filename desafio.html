<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Desafio</title>
</head>
<body>
    <script>

        let empresa, tipo, raca, temUmAno, idade, idadeTipo, cor, porte, nome, nomeT, telefoneDDD, telefoneT, enderecoT, local;

        empresa = prompt("Digite o nome da empresa: ");

        do {
            tipo = prompt("Digite o tipo de animal (cachorro, gato ou pássaro):");
            tipo = tipo.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase(); 
        } while (tipo !== "cachorro" && tipo !== "gato" && tipo !== "passaro");

        raca = prompt("Digite a raça do animal:");

        temUmAno = prompt("O animal tem um ano ou mais? (sim/não)").toLowerCase();

        if (temUmAno === "sim") {
            do {
                idade = prompt("Quantos anos tem o animal?");
            } while (isNaN(idade) || idade.trim() === "" || !idade.trim().match(/^\d+$/)); //O método trim() em JavaScript é usado para remover espaços em branco do início e do fim de uma string. "Espaços em branco" incluem espaços comuns, tabulações, quebras de linha e outros caracteres de espaço em branco que podem não ser visíveis mas que contam como espaço no contexto da string.
            idadeTipo = "anos";                                                           //O método trim() é bastante útil para limpar strings de entrada do usuário, onde espaços extras acidentalmente inseridos no início ou no final podem causar erros ou resultados inesperados durante o processamento dessas entradas.
                                                                                        //Além do trim(), existem variações que permitem remover espaços somente do início (trimStart() ou trimLeft()) ou somente do fim (trimEnd() ou trimRight()) da string.
        } else {
            do {    
                idade = prompt("Quantos meses tem o animal?");
            } while (isNaN(idade) || idade.trim() === "" || !idade.trim().match(/^\d+$/));
            idadeTipo = "meses";
        }

        cor = prompt("Digite a cor do animal:");

        do {
            porte = prompt("Digite o porte do animal (P, M, G, GG):").toUpperCase();
        } while (porte !== "P" && porte !== "M" && porte !== "G" && porte !== "GG");

        nome = prompt("Digite o nome do animal:");
        nomeT = prompt("Digite o nome do tutor do animal:");

        // Validar DDD
        do {
            telefoneDDD = prompt("Digite o DDD do telefone do tutor do animal (no formato XX):");
        } while (isNaN(telefoneDDD) || telefoneDDD.trim().length !== 2 || !telefoneDDD.trim().match(/^\d{2}$/));

        // Validar telefone
        do {
            telefoneT = prompt("Digite o telefone do tutor do animal:");
        } while (isNaN(telefoneT) || !telefoneT.trim().match(/^\d+$/));

        enderecoT = prompt("Digite o endereço do tutor do animal:");

        if (tipo === "cachorro") {
            local = "parque de cães";
        } else if (tipo === "gato") {
            local = "sala de gatos";
        } else if (tipo === "passaro") {
            local = "viveiro";
        }

        let mensagem = `
        Nome da Empresa: ${empresa}
        
        Resumo dos Dados:
        Tipo de Animal: ${tipo}
        Raça: ${raca}
        Idade: ${idade} ${idadeTipo}
        Cor: ${cor}
        Porte: ${porte}
        Nome: ${nome}
        
        Dados do Tutor:
        Nome do Tutor: ${nomeT}
        Telefone do Tutor: (${telefoneDDD}) ${telefoneT}
        Endereço do Tutor: ${enderecoT}
        
        Localização do Animal:
        O ${tipo} ${nome} será colocado no(a) ${local}.
        `;

        alert(mensagem);
    </script>
</body>
</html>
